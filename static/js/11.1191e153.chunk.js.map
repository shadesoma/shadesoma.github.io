{"version":3,"sources":["utils/css.ts","view/components/common/delimiter/delimiter.tsx","view/components/common/typography/typography.tsx","assets/icons/back-arrow.svg","view/components/common/navigation-header/navigation-header.tsx","assets/icons/logo.png","view/components/common/button/button.tsx","view/components/camera/camera.tsx","routes/new-medical-inspection/new-medical-inspection.tsx"],"names":["joinCssClasses","cssClasses","filter","Boolean","join","trim","Delimiter","style","width","border","Typography","props","children","component","Component","className","NavigationHeader","useReactPWAInstall","pwaInstall","supported","isInstalled","location","window","pathname","height","display","alignItems","justifyContent","src","arrow","alt","onClick","history","back","Button","title","logo","description","then","alert","Computer","href","color","otherProps","content","joinedClassName","e","preventDefault","document","type","Camera","changeHandler","userPhoto","multiplePhotoChangeHandler","fontSize","accept","capture","onChange","useStyles","makeStyles","theme","createStyles","formControl","margin","spacing","minWidth","maxWidth","background","borderRadius","label","selectEmpty","marginTop","NewMedicalInspection","value","handleSubmit","selectHandleChange","photoChangeHandler","setDateChange","selectedDate","error","setValueData","disable","setValueSignature","classes","canvas","querySelector","signaturePad","useEffect","SignaturePad","backgroundColor","onEnd","signature_file","toDataURL","onSubmit","ctx","getContext","clearRect","variant","id","labelId","name","required","ampm","format","inputVariant","newValue","datetime","toISOString","user_photo_file","disabled"],"mappings":"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","file":"static/js/11.1191e153.chunk.js","sourcesContent":["export default function joinCssClasses(...cssClasses: (string | boolean | undefined)[]): string {\n  return cssClasses.filter(Boolean).join(' ').trim();\n}\n","import React from 'react';\n\nconst Delimiter = () => {\n  return (\n    <>\n      <div style={{ width: '100%', border: '1px solid rgba(124, 147, 156, 0.62)' }} />\n      <div style={{ width: '100%', border: '1px solid #FFFFFF' }} />\n    </>\n  );\n};\n\nexport default Delimiter;\n","import React from 'react';\nimport joinCssClasses from '../../../../utils/css';\n\ntype Props = {\n  children?: React.ReactNode;\n  className?: string;\n  component?: 'p' | 'h1';\n  size?: 'small' | 'medium' | 'large';\n  style?: React.CSSProperties;\n};\n\nconst Typography = (props: Props) => {\n  const { children, component: Component = 'p', className, style } = props;\n\n  return (\n    <Component style={style} className={joinCssClasses(className)}>\n      {children}\n    </Component>\n  );\n};\n\nexport default Typography;\n","export default __webpack_public_path__ + \"static/media/back-arrow.3cc4fcb7.svg\";","import React from 'react';\nimport './navigation-header.css';\nimport arrow from '../../../../assets/icons/back-arrow.svg';\nimport Delimiter from '../delimiter/delimiter';\nimport { Button, Typography } from '@material-ui/core';\nimport { Computer } from '@material-ui/icons';\nimport { useReactPWAInstall } from 'react-pwa-install';\nimport myLogo from '../../../../assets/icons/logo.png';\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nconst NavigationHeader = ({ children }: Props) => {\n  const { pwaInstall, supported, isInstalled } = useReactPWAInstall();\n  const location = window.location.pathname;\n\n  const handleClick = () => {\n    pwaInstall({\n      title: 'Установить приложение',\n      logo: myLogo,\n      description: 'Telemedic App',\n    }).then(() => alert('Приложение установленно или инструкция по установке прочитана'));\n  };\n  return (\n    <div className=\"navigation-header\">\n      <nav className=\"navigation-header-wrapper\">\n        <div\n          style={{\n            height: '100px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n          }}\n        >\n          {location !== '/home' && (\n            <img\n              className=\"navigation-header-image\"\n              src={arrow}\n              alt=\"arrow\"\n              onClick={() => {\n                window.history.back();\n              }}\n            />\n          )}\n        </div>\n        <div className=\"navigation-header-content\">\n          <Typography>{children}</Typography>\n        </div>\n        {supported() && !isInstalled() && (\n          <Button onClick={handleClick}>\n            <Computer />\n          </Button>\n        )}\n      </nav>\n      <Delimiter />\n    </div>\n  );\n};\n\nexport default NavigationHeader;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAMAAABlApw1AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAAlwSFlzAAAsSgAALEoBd3p0TQAAAD9QTFRFR3BMAAAA/9FLAAAA7sQ+/Ms3AAAAAAAA/9JJ+s1ApIQk/9JM/9VN7sE0dl8ZAAAA/s04f2Yc/tJM/s89/tFHjhYgtQAAABB0Uk5TACJIDajzKzPz3WfIKs1RB9kkoP0AAAFhSURBVHja7d07doMwAEVBMALxsYEA+19r6FIJuiD5zK1dvLFEraqSJEnSX68w9FuW9UN43c5/T1vWTe+bv7/fMq+/PIT3uf/Y9zXT9v04BVdnMJ3z16w7CdPFBdqONfuOLX2JQgH7T0FIAoa9CMCQBPRrEfVJwF4GYP9ewFpIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAScBPoqd+DwAAAAAAAAAAAAAAAAAAAADwP4CnhgIAAAAAAAAAAAAAAAAAAAAA5Al4KgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIDHAW0Z+9v0w5plANIPa4YyAOmnTccyAGMS0H1K2P/pkoB6LuAzbuc6CWjimL2gHWOTfmG5jnPmt+gzx+7iieslxjiGIdNjaIcwngOXq1fGm5h9TXXZUuc9v16qu5q6y3V9VzeVJElf1S9xHfxZqqmO1AAAAABJRU5ErkJggg==\"","import React from 'react';\nimport './button.css';\nimport joinCssClasses from '../../../../utils/css';\nimport Typography from '../typography/typography';\n\ntype Props = React.DetailedHTMLProps<\n  React.ButtonHTMLAttributes<HTMLButtonElement>,\n  HTMLButtonElement\n> & { component?: 'div' | 'button' | 'input' | 'a'; href?: string };\n\nexport const Button = (props: Props) => {\n  const {\n    children,\n    className,\n    component: Component = 'button',\n    href,\n    color,\n    ...otherProps\n  } = props;\n\n  const handleClick = (e: React.MouseEvent<HTMLElement>) => {\n    e.preventDefault();\n    if (href) {\n      document.location.href = href;\n    }\n  };\n\n  const content =\n    typeof children === 'string' ? (\n      <Typography className=\"button__title\">{children}</Typography>\n    ) : (\n      children\n    );\n  const joinedClassName = joinCssClasses('button', color, className);\n  if (Component === 'a') {\n    return (\n      <a className={joinedClassName} href={href} onClick={handleClick}>\n        {content}\n      </a>\n    );\n  }\n\n  if (Component !== 'button') {\n    return <Component className={joinedClassName}>{content}</Component>;\n  }\n\n  return (\n    <button type=\"button\" className={joinedClassName} {...otherProps}>\n      {content}\n    </button>\n  );\n};\n","import React from 'react';\nimport './camera.css';\nimport { CameraAltOutlined } from '@material-ui/icons';\nimport joinCssClasses from '../../../utils/css';\n\ntype Props = {\n  className?: string;\n  changeHandler?: (e: React.FormEvent<HTMLInputElement>) => void;\n  userPhoto?: string;\n  multiplePhotoChangeHandler?: (e: React.FormEvent<HTMLInputElement>) => void;\n};\n\nconst Camera = ({ className, changeHandler, userPhoto, multiplePhotoChangeHandler }: Props) => {\n  return (\n    <div className={joinCssClasses('camera', className)}>\n      {multiplePhotoChangeHandler ? (\n        <>\n          {!userPhoto && (\n            <label className=\"label\">\n              <CameraAltOutlined style={{ fontSize: 60 }} />\n              <input\n                className=\"photo\"\n                type=\"file\"\n                accept=\"image/*\"\n                capture=\"camera\"\n                onChange={multiplePhotoChangeHandler}\n              />\n            </label>\n          )}\n          {userPhoto && (\n            <label className=\"label\">\n              <img src={userPhoto} alt=\"photo1\" width=\"60px\" height=\"50px\" />\n              <input\n                className=\"photo\"\n                type=\"file\"\n                accept=\"image/*\"\n                capture=\"camera\"\n                onChange={multiplePhotoChangeHandler}\n              />\n            </label>\n          )}\n        </>\n      ) : (\n        <>\n          {!userPhoto && (\n            <label className=\"label\">\n              <CameraAltOutlined style={{ fontSize: 60 }} />\n              <input\n                className=\"photo\"\n                type=\"file\"\n                accept=\"image/*\"\n                capture=\"camera\"\n                onChange={changeHandler}\n              />\n            </label>\n          )}\n          {userPhoto && (\n            <label className=\"label\">\n              <img src={userPhoto} alt=\"photo1\" width=\"60px\" height=\"50px\" />\n              <input\n                className=\"photo\"\n                type=\"file\"\n                accept=\"image/*\"\n                capture=\"camera\"\n                onChange={changeHandler}\n              />\n            </label>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\nexport default Camera;\n","import React, { useEffect } from 'react';\nimport './new-medical-inspection.css';\nimport {\n  createStyles,\n  FormControl,\n  InputLabel,\n  makeStyles,\n  MenuItem,\n  Select,\n  Theme,\n} from '@material-ui/core';\nimport { DateTimePicker } from '@material-ui/pickers';\nimport Camera from '../../view/components/camera/camera';\nimport { MaterialUiPickersDate } from '@material-ui/pickers/typings/date';\nimport { UserNewMedicalInspection } from './new-medical-inspection-container';\nimport SignaturePad from 'signature_pad';\nimport { Button } from '../../view/components/common/button/button';\nimport NavigationHeader from '../../view/components/common/navigation-header/navigation-header';\nimport Typography from '../../view/components/common/typography/typography';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    formControl: {\n      width: '100%',\n      margin: theme.spacing(1),\n      minWidth: 250,\n      maxWidth: 300,\n      background: 'white',\n      borderRadius: 20,\n    },\n    label: {\n      color: '#7C939C',\n    },\n    selectEmpty: {\n      marginTop: theme.spacing(2),\n    },\n  }),\n);\n\ntype Props = {\n  value: UserNewMedicalInspection;\n  setValueData: (values: UserNewMedicalInspection) => void;\n  setValueSignature: (values: UserNewMedicalInspection) => void;\n  handleSubmit: (e: React.FormEvent<HTMLFormElement>) => void;\n  selectHandleChange: (event: React.ChangeEvent<{ name?: string; value: unknown }>) => void;\n  photoChangeHandler: (e: React.FormEvent<HTMLInputElement>) => void;\n  setDateChange: React.Dispatch<React.SetStateAction<MaterialUiPickersDate>>;\n  selectedDate: MaterialUiPickersDate;\n  error: boolean;\n  disable: boolean;\n};\n\nconst NewMedicalInspection = ({\n  value,\n  handleSubmit,\n  selectHandleChange,\n  photoChangeHandler,\n  setDateChange,\n  selectedDate,\n  error,\n  setValueData,\n  disable,\n  setValueSignature,\n}: Props) => {\n  const classes = useStyles();\n  let canvas: HTMLCanvasElement | null = document.querySelector('canvas');\n  let signaturePad: SignaturePad | null = null;\n\n  useEffect(() => {\n    canvas = document.querySelector('canvas');\n    signaturePad = canvas\n      ? new SignaturePad(canvas, { backgroundColor: 'rgb(255,255,255)' })\n      : null;\n    if (signaturePad) {\n      signaturePad.onEnd = () => {\n        if (signaturePad) {\n          setValueSignature({\n            ...value,\n            signature_file: signaturePad.toDataURL('image/jpeg'),\n          });\n        }\n      };\n    }\n  }, [signaturePad]);\n  return (\n    <div className=\"new-medical-inspection\">\n      <NavigationHeader>Новый мед. осмотр</NavigationHeader>\n      <form\n        onSubmit={e => {\n          handleSubmit(e);\n        }}\n      >\n        <div style={{ margin: '0 0 10px 0' }}>\n          <Typography className=\"new-medical-inspection-text\">Ваша подпись</Typography>\n          <canvas style={{ borderRadius: '20px', width: '300px', background: 'white' }} />\n          <div>\n            <Button\n              onClick={() => {\n                if (canvas) {\n                  const ctx = canvas.getContext('2d');\n                  if (ctx) {\n                    ctx.clearRect(0, 0, 272, 137);\n                  }\n                }\n                setValueSignature({ ...value, signature_file: '' });\n              }}\n            >\n              Стереть\n            </Button>\n          </div>\n        </div>\n\n        <FormControl variant=\"outlined\" className={classes.formControl}>\n          <InputLabel id=\"demo-simple-select-outlined-label\">Вид смены</InputLabel>\n          <Select\n            labelId=\"demo-simple-select-outlined-label\"\n            id=\"demo-simple-select-outlined\"\n            name=\"type\"\n            value={value.type}\n            onChange={selectHandleChange}\n            required\n          >\n            <MenuItem value=\"0\">Предрейсовый</MenuItem>\n            <MenuItem value=\"1\">Послерейсовый</MenuItem>\n          </Select>\n        </FormControl>\n\n        <DateTimePicker\n          className={classes.formControl}\n          ampm={false}\n          format=\"d MMMM HH:mm\"\n          label=\"Выбор времени\"\n          inputVariant=\"outlined\"\n          value={selectedDate}\n          onChange={newValue => {\n            setDateChange(newValue);\n            setValueData({ ...value, datetime: newValue ? newValue.toISOString() : '' });\n          }}\n          error={error}\n        />\n\n        <div className=\"new-medical-inspection-camera\">\n          <Typography className=\"new-medical-inspection-text\">1шт Фото водителя</Typography>\n          <Camera changeHandler={photoChangeHandler} userPhoto={value.user_photo_file} />\n        </div>\n        <Button type=\"submit\" color=\"primary\" disabled={disable}>\n          Забронировать\n        </Button>\n      </form>\n    </div>\n  );\n};\n\nexport default NewMedicalInspection;\n"],"sourceRoot":""}