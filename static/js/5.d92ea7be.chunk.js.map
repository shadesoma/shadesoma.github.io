{"version":3,"sources":["view/components/technical-inspections-page/technical-inspections-page.tsx","view/components/technical-inspections-page/technical-inspections-page-container.tsx","routes/technical-inspections-list.tsx","view/components/common/delimiter/delimiter.tsx","assets/icons/back-arrow.svg","view/components/common/navigation-header/navigation-header.tsx","assets/icons/logo.png","../node_modules/@material-ui/core/esm/utils/createSvgIcon.js","utils/date.js","../node_modules/@material-ui/icons/esm/Computer.js","view/components/common/lists/lists.tsx","view/components/common/lists/list-items/list-items.tsx","view/components/common/lists/list-item/list-item.tsx"],"names":["TechnicalInspectionsPage","technicalInspectionsList","handleScroll","load","id","className","onScroll","map","item","date","attributes","to","Typography","onlyLocalDate","TechnicalInspectionsPageContainer","useState","setTechnicalInspectionsList","value","setValue","setLoad","getCheckupsList","a","httpFetch","get","baseUrl","res","data","useEffect","length","el","document","getElementById","scrollTop","scrollHeight","offsetHeight","TechnicalInspectionsList","Delimiter","style","width","border","NavigationHeader","children","useReactPWAInstall","pwaInstall","supported","isInstalled","location","window","pathname","height","display","alignItems","justifyContent","src","arrow","alt","onClick","history","back","Button","title","logo","description","then","alert","Computer","createSvgIcon","path","displayName","Component","props","ref","React","createElement","SvgIcon","_extends","muiName","memo","forwardRef","dateToLocalTime","time","x","Date","currentTimeZoneOffsetInHours","getTimezoneOffset","prototype","addHours","h","this","setHours","getHours","toISOString","split","d","Lists","ListItems","ListItem"],"mappings":"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","file":"static/js/5.d92ea7be.chunk.js","sourcesContent":["import React from 'react';\nimport './technical-inspections-page.css';\nimport { Typography } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { onlyLocalDate } from '../../../utils/date';\nimport Spinner from '../common/spinner/spinner';\nimport NavigationHeader from '../common/navigation-header/navigation-header';\nimport Lists from '../common/lists/lists';\nimport ListItems from '../common/lists/list-items/list-items';\nimport ListItem from '../common/lists/list-item/list-item';\nimport Delimiter from '../common/delimiter/delimiter';\n\ntype Props = {\n  technicalInspectionsList: any;\n  handleScroll: () => void;\n  load: boolean;\n};\n\nconst TechnicalInspectionsPage = ({ technicalInspectionsList, handleScroll, load }: Props) => {\n  return (\n    <div id=\"techlist\" className=\"technical-inspections-page\" onScroll={handleScroll}>\n      <NavigationHeader>Список техосмотров</NavigationHeader>\n\n      <Lists>\n        {technicalInspectionsList.map((item: { id: number; attributes: any }) => {\n          const { date } = item.attributes;\n          return (\n            <Link\n              key={item.id}\n              to={`/technicalinspection/${item.id}`}\n              className=\"technical-inspections-link\"\n            >\n              <ListItems>\n                <ListItem>\n                  <label>Номер</label> <Typography>{item.id}</Typography>\n                </ListItem>\n                <ListItem>\n                  <label>Дата выдачи</label>\n                  <Typography>{onlyLocalDate(date)}</Typography>\n                </ListItem>\n              </ListItems>\n              <Delimiter />\n            </Link>\n          );\n        })}\n      </Lists>\n      {load && <Spinner />}\n    </div>\n  );\n};\n\nexport default TechnicalInspectionsPage;\n","import React, { useEffect, useState } from 'react';\nimport TechnicalInspectionsPage from './technical-inspections-page';\nimport { httpFetch } from '../../../services/http-fetch';\nimport { baseUrl } from '../../../services/base-url';\nimport Spinner from '../common/spinner/spinner';\n\nconst TechnicalInspectionsPageContainer = () => {\n  const [technicalInspectionsList, setTechnicalInspectionsList] = useState<any>([]);\n  const [value, setValue] = useState(10);\n  const [load, setLoad] = useState(false);\n\n  const handleScroll = () => {\n    const el = document.getElementById('techlist');\n    if (el) {\n      const scrollTop = el.scrollTop + 10;\n      const scrollBottom = el.scrollHeight - el.offsetHeight;\n      if (scrollTop >= scrollBottom) {\n        setValue(value + 10);\n        setLoad(true);\n        getCheckupsList();\n      }\n    }\n  };\n\n  const getCheckupsList = async () => {\n    const res = await httpFetch.get(`${baseUrl}/tech_inspections?page[size]=${value}&sort=-id`);\n    setTechnicalInspectionsList(res.data);\n    setLoad(false);\n  };\n\n  useEffect(() => {\n    getCheckupsList();\n    setValue(value + 5);\n  }, []);\n\n  if (technicalInspectionsList.length === 0) {\n    return <Spinner />;\n  }\n\n  return (\n    <TechnicalInspectionsPage\n      technicalInspectionsList={technicalInspectionsList}\n      handleScroll={handleScroll}\n      load={load}\n    />\n  );\n};\n\nexport default TechnicalInspectionsPageContainer;\n","import React from 'react';\nimport TechnicalInspectionsListPageContainer from '../view/components/technical-inspections-page/technical-inspections-page-container';\n\nconst TechnicalInspectionsList = () => {\n  return <TechnicalInspectionsListPageContainer />;\n};\n\nexport default TechnicalInspectionsList;\n","import React from 'react';\n\nconst Delimiter = () => {\n  return (\n    <>\n      <div style={{ width: '100%', border: '1px solid rgba(124, 147, 156, 0.62)' }} />\n      <div style={{ width: '100%', border: '1px solid #FFFFFF' }} />\n    </>\n  );\n};\n\nexport default Delimiter;\n","export default __webpack_public_path__ + \"static/media/back-arrow.3cc4fcb7.svg\";","import React from 'react';\nimport './navigation-header.css';\nimport arrow from '../../../../assets/icons/back-arrow.svg';\nimport Delimiter from '../delimiter/delimiter';\nimport { Button, Typography } from '@material-ui/core';\nimport { Computer } from '@material-ui/icons';\nimport { useReactPWAInstall } from 'react-pwa-install';\nimport myLogo from '../../../../assets/icons/logo.png';\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nconst NavigationHeader = ({ children }: Props) => {\n  const { pwaInstall, supported, isInstalled } = useReactPWAInstall();\n  const location = window.location.pathname;\n\n  const handleClick = () => {\n    pwaInstall({\n      title: 'Установить приложение',\n      logo: myLogo,\n      description: 'Telemedic App',\n    }).then(() => alert('Приложение установленно или инструкция по установке прочитана'));\n  };\n  return (\n    <div className=\"navigation-header\">\n      <nav className=\"navigation-header-wrapper\">\n        <div\n          style={{\n            height: '100px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n          }}\n        >\n          {location !== '/home' && (\n            <img\n              className=\"navigation-header-image\"\n              src={arrow}\n              alt=\"arrow\"\n              onClick={() => {\n                window.history.back();\n              }}\n            />\n          )}\n        </div>\n        <div className=\"navigation-header-content\">\n          <Typography>{children}</Typography>\n        </div>\n        {supported() && !isInstalled() && (\n          <Button onClick={handleClick}>\n            <Computer />\n          </Button>\n        )}\n      </nav>\n      <Delimiter />\n    </div>\n  );\n};\n\nexport default NavigationHeader;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAMAAABlApw1AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAAlwSFlzAAAsSgAALEoBd3p0TQAAAD9QTFRFR3BMAAAA/9FLAAAA7sQ+/Ms3AAAAAAAA/9JJ+s1ApIQk/9JM/9VN7sE0dl8ZAAAA/s04f2Yc/tJM/s89/tFHjhYgtQAAABB0Uk5TACJIDajzKzPz3WfIKs1RB9kkoP0AAAFhSURBVHja7d07doMwAEVBMALxsYEA+19r6FIJuiD5zK1dvLFEraqSJEnSX68w9FuW9UN43c5/T1vWTe+bv7/fMq+/PIT3uf/Y9zXT9v04BVdnMJ3z16w7CdPFBdqONfuOLX2JQgH7T0FIAoa9CMCQBPRrEfVJwF4GYP9ewFpIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAScBPoqd+DwAAAAAAAAAAAAAAAAAAAADwP4CnhgIAAAAAAAAAAAAAAAAAAAAA5Al4KgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIDHAW0Z+9v0w5plANIPa4YyAOmnTccyAGMS0H1K2P/pkoB6LuAzbuc6CWjimL2gHWOTfmG5jnPmt+gzx+7iieslxjiGIdNjaIcwngOXq1fGm5h9TXXZUuc9v16qu5q6y3V9VzeVJElf1S9xHfxZqqmO1AAAAABJRU5ErkJggg==\"","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport SvgIcon from '../SvgIcon';\n/**\n * Private module reserved for @material-ui/x packages.\n */\n\nexport default function createSvgIcon(path, displayName) {\n  var Component = function Component(props, ref) {\n    return /*#__PURE__*/React.createElement(SvgIcon, _extends({\n      ref: ref\n    }, props), path);\n  };\n\n  if (process.env.NODE_ENV !== 'production') {\n    // Need to set `displayName` on the inner component for React.memo.\n    // React prior to 16.14 ignores `displayName` on the wrapper.\n    Component.displayName = \"\".concat(displayName, \"Icon\");\n  }\n\n  Component.muiName = SvgIcon.muiName;\n  return /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(Component));\n}","export const dateToLocalTime = (time = '') => {\n  const x = new Date();\n  const currentTimeZoneOffsetInHours = (x.getTimezoneOffset() / 60) * -1;\n  Date.prototype.addHours = function (h) {\n    this.setHours(this.getHours() + h);\n    return this;\n  };\n  return `\n  ${new Date(time).addHours(currentTimeZoneOffsetInHours).toISOString().split('T')[0].split('.')[0]}\n  ${\n    new Date(time).addHours(currentTimeZoneOffsetInHours).toISOString().split('T')[1].split('.')[0]\n  }`;\n};\n\nexport const onlyLocalDate = (date = '') => {\n  const x = new Date();\n  const currentTimeZoneOffsetInHours = (x.getTimezoneOffset() / 60) * -1;\n  Date.prototype.addHours = function (h) {\n    this.setHours(this.getHours() + h);\n    return this;\n  };\n  return `\n  ${\n    new Date(date).addHours(currentTimeZoneOffsetInHours).toISOString().split('T')[0].split('.')[0]\n  }`;\n};\n","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z\"\n}), 'Computer');","import React from 'react';\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nconst Lists = ({ children }: Props) => {\n  return <div className=\"list\">{children}</div>;\n};\n\nexport default Lists;\n","import React from 'react';\nimport './list-items.css';\n\ntype Props = {\n  children: React.ReactNode;\n};\n\nconst ListItems = ({ children }: Props) => {\n  return <div className=\"list-items\">{children}</div>;\n};\n\nexport default ListItems;\n","import React from 'react';\nimport './list-item.css';\n\ntype Props = {\n  children?: React.ReactNode;\n  style?: React.CSSProperties;\n};\n\nconst ListItem = ({ children, style }: Props) => {\n  return (\n    <div className=\"list-item\" style={style}>\n      {children}\n    </div>\n  );\n};\n\nexport default ListItem;\n"],"sourceRoot":""}